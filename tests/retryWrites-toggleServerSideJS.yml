initialConfiguration:
  clusterConfiguration:
    clusterType: REPLICASET
    providerSettings:
      providerName: AWS
      regionName: US_WEST_1
      instanceSizeName: M10
  processArgs: {}

operations:
  -
    clusterConfiguration: {}
    processArgs:
      javascriptEnabled: true

driverWorkload:
  description: "Insert"

  schemaVersion: "1.0"

  createEntities:
    - client:
        id: &client0 client0
        uriOptions:
          retryWrites: true
        storeEventsAsEntities:
          CommandStartedEvent: command
          CommandSucceededEvent: command
          CommandFailedEvent: command
          PoolCreatedEvent: connection
          PoolReadyEvent: connection
          PoolClearedEvent: connection
          PoolClosedEvent: connection
          ConnectionCreatedEvent: connection
          ConnectionReadyEvent: connection
          ConnectionClosedEvent: connection
          ConnectionCheckOutStartedEvent: connection
          ConnectionCheckOutFailedEvent: connection
          ConnectionCheckedOutEvent: connection
          ConnectionCheckedInEvent: connection
    - database:
        id: &database0 database0
        client: *client0
        databaseName: &database0Name dat
    - collection:
        id: &collection0 collection0
        database: *database0
        collectionName: &collection0Name dat

  tests:
    - description: "Insert one"
      operations:
        - name: loop
          object: testRunner
          arguments:
            storeErrorsAsEntity: errors
            storeIterationsAsEntity: iterations
            operations:
            - name: insertOne
              object: *collection0
              arguments: { data: 100 }
